# computer netwokr計算機網路   網路概論
![協定protocol](protocol.jpg)
```
說明OSI Model與 TCP/IP protocol
```
https://www.slideserve.com/darena/osi
http://www.study-area.org/network/network_ip_model.htm

##### OSI模型 (Open System Interconnection Model)
分層|英文|中文|功能|傳輸單位|裝置|協定舉例
:-:|:-:|:-:|-|-|-|-|
7|Application Layer|應用層|應用程式介面、功能、應用|||FTP、HTTP、SMTP
6|Presentation Layer|表現層|編碼、轉譯、資料格式,加密/解密|||
5|Session Layer|會談層|定義了如何連接和掛斷連接﹐和在網路上面的數據如何交換,允許程式以電腦名稱註冊成為網路上唯一的位址||NetBIOS names|
4|Transport Layer|傳輸層|接管由上層協定傳來的資料﹐並進行"分拆打包 (Packet segmentation)"等工作,並分別進行追蹤及轉換,使用端點對端點(End-to-End)連線(Connection),確保電腦資料正確的傳送到目的地|資料（Data）、訊息（Message）||TCP(傳輸控制協定)、UDP(用戶資料報協定)
3|Network Layer|網路層|跨網路通訊,負責決定路由路徑,包括轉換地,尋找最佳路徑與管理流量,與負責 MAC 位址 和 網路位址(如 IP 位址﹑IPX 位址)之間的解釋和轉換|封包（Packet）(IP 封包最大體積為 65536 bytes)|路由器(Router)、IP 交換機(IP Switch)|ARP(位址解析協定)
2|Data Link Layer|資料連結層|定義如何確保資料正確傳輸,將資料切割並加上來源與目的的位址與資料長度等訊息包裝成框包.IEEE 802系列標準 將此層分為 MAC(媒體訪問控制) 與 LLC(邏輯鏈路控制) 子層|訊框(FRAME)|網路卡(NIC)、橋接器(Bridge)|STP(生成樹協定)
1|Physical Layer|實體層|定義物理媒介的電氣特性與訊號 |位元(bit)|針腳、纜線、雙絞線、光纖、無線電、網路卡|
```
1.Physical Layer 
```
##### TCP/IP(TCP/IP Protocol Suite,TCP/IP協定套組)
又被稱為TCP/IP協定疊（英語：TCP/IP Protocol Stack）
https://zh.wikipedia.org/wiki/TCP/IP%E5%8D%8F%E8%AE%AE%E6%97%8F
```
TCP/IP提供了點對點連結的機制，將資料應該如何封裝、定址、傳輸、路由以及在目的地如何接收，都加以標準化。
它將軟體通訊過程抽象化為四個抽象層
4應用層 application layer	例如HTTP、FTP、DNS
（如BGP和RIP這樣的路由協定，儘管由於各種各樣的原因它們分別執行在TCP和UDP上，仍然可以將它們看作網路層的一部分）
3	傳輸層 transport layer	例如TCP、UDP、RTP、SCTP
（如OSPF這樣的路由協定，儘管執行在IP上也可以看作是網路層的一部分）
2	網路互連層 internet layer	對於TCP/IP來說這是網際網路協定（IP）
（如ICMP和IGMP這樣的必須協定儘管執行在IP上，也仍然可以看作是網路互連層的一部分；ARP不執行在IP上）
1	網路存取(連結)層 Network Access(link) layer	例如乙太網路、Wi-Fi、MPLS等。
```
# 協定protocol
```
何謂communications protocol[簡稱協定protocol]?
WHY Layering為何要分層?
```
##### Communications Protocol(網路傳輸協定)
```
1.通訊協定（Protocol）是用來溝通不同電腦的一種標準架構。
``` 
```
2.分層的原則是將來改變或更換某一層的通訊協定時，不會影響到其他層通訊協定的工作。
層次不可太多，太多層的結構在整合的工作上較複雜且困難。
相同功能之通訊協定歸於同一層。
每一層之邊界只與上一層或下一層有關。
```
## 各種協定
```
簡述下列協定protocol
須回答
(A)英文全名
(B)運作在那一層?
(C)主要功能
(D)相關工具或伺服器
```
##### AAAA
```
AAAA
```
### application層
```
HTTP vs HTTPS
FTP vs SFTP | FTPS
TELNET vs SSH
SMTP vs POP3 INAP 4

DNS vs DNSsec

DHCP

LDAP
SAMBA

SNMP

RTMP RTSP

MQTT
```
##### AAAA
```
AAAA
```
### transport層
```
TCP 與UDP的差異
[1]須說明reliable(可靠) vs un-reliable(不可靠)
[2]如何達到reliable(可靠)
 (A)錯誤重傳
 (B) ThreeWay Handshaking
[3]封包格式 TCP format   vs UDP format
```
##### TCP與UDP的差異
![TCP與UDP的差異](20201023.jpg)
```
TCP (Transmission Control Protocol,TCP傳輸控制協定) 
可靠,穩定,但慢
UDP (Transmission Control Protocol,UDP傳輸控制協定) 
不可靠,不穩定,但快

```
```
[1]
TCP的可靠在TCP在傳遞數據之前，會有三次握手來建立連接，在數據傳遞時檢驗和 (checksum)、確認 (Acknowledgment)、重送 (retransmission)、擁塞控制機制，在數據傳完後，還會斷開連接用來節約系統資源
UDP在數據傳遞時，如果網絡質量不好，就會很容易丟包
[2] (A)錯誤重傳
一旦連線建立，TCP 以 區段 (segment) 的交換來傳遞資料。接收端 可能因「檢驗和測試失敗」，認定區段毀損並丟棄，或 網路壅塞… 等因素，而遺失區段，
TCP 使用 重送 (Retransmission) 機制，確保每個 區段 的傳遞。 
 (B) ThreeWay Handshaking
三向交握 (Three-way Handshake)， 是其建立虛擬連線 (virtual connection) 的方式。
又稱為 三向式握手、三路交握 …，其實就是 三次訊息的交換。
```
```
IP vs IPsec
ICMP
```
##### IP vs IPsec
```
IPsec（IP Security）是IETF制定的三層隧道加密協議
              資料機密性（Confidentiality）：IPsec傳送方在通過網路傳輸包前對包進行加密。
              資料完整性（Data Integrity）：IPsec接收方對傳送方傳送來的包進行認證，以確保資料在傳輸過程中沒有被篡改。
              資料來源認證（Data Authentication）：IPsec在接收端可以認證傳送IPsec報文的傳送端是否合法。
              防重放（Anti-Replay）：IPsec接收方可檢測並拒絕接收過時或重複的報文。
IPsec具有以下優點：
              支援IKE（Internet Key Exchange，因特網金鑰交換），可實現金鑰的自動協商功能，減少了金鑰協商的開銷。可以通過IKE建立和維護SA的服務，簡化了IPsec的使用和管理。
              所有使用IP協議進行資料傳輸的應用系統和服務都可以使用IPsec，而不必對這些應用系統和服務本身做任何修改。
              對資料的加密是以資料包為單位的，而不是以整個資料流為單位，這不僅靈活而且有助於進一步提高IP資料包的安全性，可以有效防範網路攻擊。
```
##### ICMP
### 連結層
```
ARP
```
##### ARP (Address Resolution Protocol,位址解析協定)
```
是一個通過解析網路層位址來找尋資料鏈路層位址的網路傳輸協定，它在IPv4中極其重要
```
```
ARP spoofing (ARP欺騙,又稱ARP毒化/ARP病毒/ARP攻擊)
針對"乙太網路位置解析協定(ARP)"的攻擊技術，可讓攻擊者取得/或竄改"區域網路"上的資料封包,且可讓特定電腦或所有電腦無法正常連線。
ARP欺騙亦有正當用途:
1.在需要登入的網路中，讓位登入的電腦將其瀏覽網頁強制轉到登入頁面。
2.設有"備援機制"的網路裝置或伺服器，利用ARP欺騙以在裝置出現故障時，將訊務導到備用的裝置上。
```
# 網路硬體設備 Network Devices
```
簡述底下網路設備:須說明
(A)運作在OSI那一層?
(B)主要功能

(1) HUB  vs Repeater
(2) Switch vs Bridge
(3) Router
(4) L4 Switch
(5) Proxy 
```
##### AAAA
```
AAAA
```
```
名詞解釋: VLAN
```
##### AAAA
```
AAAA
```
# 各種address位址
```
PORT address
IP address
MAC address
```
##### AAAA
```
MAC Address (Media Access Control Address,MAC位址)
也稱為區域網路位址（LAN Address），乙太網路位址（Ethernet Address）或實體位址（Physical Address）
```
